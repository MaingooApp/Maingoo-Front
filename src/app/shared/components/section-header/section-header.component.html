<div
  class="bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-100 flex flex-col md:flex-row items-center gap-4 justify-between">
  <!-- Left: Title & Actions -->
  <div class="flex flex-wrap items-center gap-4 w-full md:w-auto">
    <h2 class="text-2xl font-bold text-maingoo-deep m-0 whitespace-nowrap">{{ title }}</h2>
    <span *ngIf="showDemoTag"
      class="text-[10px] font-medium px-1.5 py-0.5 rounded bg-red-100 text-red-600 uppercase tracking-wide">DEMO</span>

    <!-- View Switcher -->
    <div *ngIf="showViewSwitcher" class="bg-gray-100 p-1 rounded-lg flex items-center gap-1 shrink-0">
      <button (click)="setViewMode(gridValue)"
        class="p-2 rounded-md transition-all duration-200 flex items-center justify-center w-8 h-8"
        [ngClass]="viewMode === gridValue ? 'bg-white text-maingoo-sage shadow-sm' : 'text-gray-400 hover:text-gray-600'">
        <app-icon name="grid_view" size="md"></app-icon>
      </button>
      <button (click)="setViewMode(listValue)"
        class="p-2 rounded-md transition-all duration-200 flex items-center justify-center w-8 h-8"
        [ngClass]="viewMode === listValue ? 'bg-white text-maingoo-sage shadow-sm' : 'text-gray-400 hover:text-gray-600'">
        <app-icon name="list" size="md"></app-icon>
      </button>
    </div>

    <!-- Extra Buttons -->
    <ng-content select="[actions]"></ng-content>
  </div>

  <!-- Right: Search & Controls -->
  <div class="w-full md:w-auto flex-1 md:max-w-md flex flex-col sm:flex-row items-center justify-end gap-3">
    <!-- Extra Controls (like delete button) -->
    <ng-content select="[controls]"></ng-content>

    <input *ngIf="showSearch" type="text" pInputText [placeholder]="searchPlaceholder" (input)="onSearch($event)"
      class="border-gray-200 rounded-lg focus:border-maingoo-sage focus:ring-maingoo-sage w-full sm:w-auto flex-1 placeholder:text-gray-400 placeholder:text-base text-left" />
  </div>
</div>