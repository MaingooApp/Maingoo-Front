<div [class]="'fixed bg-white dark:bg-surface-800 rounded-[var(--content-border-radius)] shadow-lg border border-gray-200 dark:border-surface-700 z-[999] w-96 overflow-hidden flex flex-col transition-transform duration-[400ms] ease-[cubic-bezier(0.05,0.74,0.2,0.99)] ' + (layoutService.isProfilePanelActive() ? 'translate-x-0' : 'translate-x-[calc(100%+2rem)]')"
	style="right: 2rem; top: 6rem; height: calc((100vh - 10rem) / 3.5);">

	<!-- Header -->
	<div
		class="flex items-center justify-between px-4 py-1 border-b border-gray-200 dark:border-surface-700 bg-[#F0F7F4] dark:bg-surface-900">
		<h3 class="text-xs font-semibold text-gray-500 dark:text-surface-0 uppercase tracking-wide">Perfil</h3>
	</div>

	<!-- Content -->
	<div class="p-2 flex flex-col">
		<!-- Mi Perfil -->
		<button type="button" routerLink="/miperfil" (click)="toggleProfile()"
			class="w-full px-4 py-3 text-left text-[#1A3C34] dark:text-surface-0 hover:bg-[#F0F7F4] dark:hover:bg-surface-700 flex items-center gap-3 transition-colors rounded-md">
			<app-icon name="person" size="lg"></app-icon>
			<span class="text-sm font-medium">Mi perfil</span>
		</button>

		<!-- Configuración -->
		<button type="button" (click)="openSettings(); toggleProfile()"
			class="w-full px-4 py-3 text-left text-[#1A3C34] dark:text-surface-0 hover:bg-[#F0F7F4] dark:hover:bg-surface-700 flex items-center gap-3 transition-colors rounded-md">
			<app-icon name="settings" size="lg"></app-icon>
			<span class="text-sm font-medium">Configuración</span>
		</button>

		<!-- Tema -->
		<button type="button" (click)="toggleDarkMode()"
			class="w-full px-4 py-3 text-left text-[#1A3C34] dark:text-surface-0 hover:bg-[#F0F7F4] dark:hover:bg-surface-700 flex items-center gap-3 transition-colors rounded-md">
			<i class="text-lg"
				[ngClass]="{ 'pi': true, 'pi-moon': layoutService.isDarkTheme(), 'pi-sun': !layoutService.isDarkTheme() }"></i>
			<span class="text-sm font-medium">{{ layoutService.isDarkTheme() ? 'Tema claro' : 'Tema oscuro' }}</span>
		</button>

		<div class="h-px bg-gray-200 dark:bg-surface-700 my-1"></div>

		<!-- Salir -->
		<button type="button" (click)="logout()"
			class="w-full px-4 py-3 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors rounded-md">
			<app-icon name="logout" size="lg"></app-icon>
			<span class="text-sm font-medium">Cerrar sesión</span>
		</button>
	</div>
</div>