<div class="layout-wrapper flex flex-col h-screen overflow-hidden" [ngClass]="containerClass">

  <!-- ═══════ CONTENEDOR 1: TOPBAR (Rojo) ═══════ -->
  <div class="flex-none">
    <app-topbar></app-topbar>
  </div>

  <!-- ═══════ CONTENEDOR 2: MAIN + SIDEBAR (Azul) ═══════ -->
  <div class="flex-auto overflow-hidden relative px-4">
    <app-sidebar></app-sidebar>

    <app-main [containerClass]="mainContainerClass">
      <router-outlet></router-outlet>
    </app-main>
  </div>

  <!-- Mobile Components (capas flotantes, no afectan layout) -->
  <app-mobile-bottom-nav></app-mobile-bottom-nav>
  <app-mobile-menu-modal></app-mobile-menu-modal>
  <app-mobile-bottom-sheet></app-mobile-bottom-sheet>

  <div class="layout-mask animate-fadein"></div>
</div>