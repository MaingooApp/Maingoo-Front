<!-- ==================== TOPBAR PRINCIPAL ==================== -->
<div class="layout-topbar">
  <!-- ========== SECCIÓN IZQUIERDA: Logo y Menú ========== -->
  <div class="layout-topbar-logo-container">
    <!-- Logo y nombre de la aplicación -->
    <a routerLink="/" class="flex items-center">
      <img src="assets/images/maingoo_logo.svg" alt="Maingoo" height="30" width="30" style="object-fit: contain" />
      <span class="ml-2 text-2xl font-semibold">Maingoo</span>
    </a>
  </div>

  <!-- ========== SECCIÓN DERECHA: Acciones y Menú de Usuario ========== -->
  <div class="layout-topbar-actions">
    <!-- === Menú de acciones con espaciado uniforme === -->
    <div class="flex items-center gap-5">
      <!-- Botón para alternar entre tema oscuro/claro -->
      <button type="button" class="layout-topbar-action" (click)="toggleDarkMode()">
        <i
          [ngClass]="{ 
                    'pi ': true, 
                    'pi-moon': layoutService.isDarkTheme(), 
                    'pi-sun': !layoutService.isDarkTheme() 
                }"></i>
      </button>

      <!-- Botón para abrir/cerrar el sidebar del chat -->
      <button type="button" class="layout-topbar-action flex items-center justify-center" (click)="layoutService.onMenuToggle()">
        <img src="assets/images/maingoo_logo.svg" alt="Chat Maingoo" class="w-6 h-6 object-contain translate-x-[1px]" />
      </button>

      <!-- Acceso al Perfil del usuario -->
      <button type="button" class="layout-topbar-action" routerLink="/miperfil">
        <i class="pi pi-user"></i>
      </button>

      <!-- Botón de Cerrar Sesión -->
      <button type="button" class="layout-topbar-action" (click)="logout()">
        <i class="pi pi-sign-out"></i>
      </button>
    </div>

    <!-- Componente de configuración visual (oculto) -->
    <div class="hidden">
      <app-configurator />
    </div>
  </div>
</div>
<!-- ==================== FIN TOPBAR ==================== -->
